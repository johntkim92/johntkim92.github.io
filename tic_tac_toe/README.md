http://jsfiddle.net/rtoal/ThPEH/
9-bit solution
